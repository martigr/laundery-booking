<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Profile – Waschküche</title>
<style>
body { font-family: sans-serif; padding: 2em; background: #f5f5f5; }
.container { max-width: 600px; margin: 0 auto; background: #fff; padding: 2em; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
.header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 2em; }
h1 { margin: 0; }
a { color: #007bff; text-decoration: none; }
a:hover { text-decoration: underline; }
.info { background: #e7f3ff; padding: 1em; border-radius: 4px; margin-bottom: 2em; }
.form-group { margin-bottom: 1.5em; }
label { display: block; margin-bottom: 0.5em; font-weight: bold; }
input { width: 100%; padding: 0.5em; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box; }
button { padding: 0.7em 1.5em; background: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 1em; }
button:hover { background: #0056b3; }
.error { background: #f8d7da; color: #721c24; padding: 0.7em; border-radius: 4px; margin-bottom: 1em; }
.success { background: #d4edda; color: #155724; padding: 0.7em; border-radius: 4px; margin-bottom: 1em; }
</style>
</head>
<body>

<div class="container">
    <div class="header">
        <h1>Profile</h1>
        <a href="/">Back to Calendar</a>
    </div>
    
    <div class="info">
        <strong>Username:</strong> {{ user['username'] }}<br>
        <strong>Apartment:</strong> {{ user['apartment_name'] }}
    </div>
    
    {% if error %}
    <div class="error">{{ error }}</div>
    {% endif %}
    
    {% if success %}
    <div class="success">{{ success }}</div>
    {% endif %}
    
    <h2>Change Password</h2>
    <form method="post">
        <div class="form-group">
            <label for="old_password">Current Password</label>
            <input type="password" id="old_password" name="old_password" required>
        </div>
        <div class="form-group">
            <label for="new_password">New Password</label>
            <input type="password" id="new_password" name="new_password" required>
        </div>
        <button type="submit">Change Password</button>
    </form>
    
    <p style="margin-top: 2em; text-align: center;">
        <a href="/logout">Logout</a>
    </p>
</div>

</body>
</html>
